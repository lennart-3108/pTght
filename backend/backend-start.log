
> start
> PORT=5001 node server.js

[DB] SQLite file: ./sportplattform.db
[DB] Migrations dir: /Users/A105227786/Documents/projects/sL/pTght/backend/migrations
[DB] Adapter knex not available, using ./db fallback
[DB] knexfile instance created, filename: ./sportplattform.db
[Mailer] Transport konfiguriert smtps.udag.de:465 secure=true
[Mailer] Verifiziere SMTP-Verbindung ...
[INFO] 2025-09-19T23:23:18.497Z [Server] Listening on http://localhost:5001 {}
[Server] Logs directory: /Users/A105227786/Documents/projects/sL/pTght/backend/logs (error.log, info.log, link-tests.log)
üõ†Ô∏è Admin erstellt: admin249 (admin249@example.com) / Passwort: test1234
[INFO] 2025-09-19T23:23:18.589Z Starting automated link tests {
  endpoints: [
    '/',
    '/leagues',
    '/leagues/1',
    '/leagues/1/games',
    '/leagues/1/members',
    '/leagues/1/standings',
    '/sports',
    '/sports/7/leagues',
    '/me',
    '/me/leagues',
    '/me/games'
  ]
}
[INFO] 2025-09-19T23:23:18.613Z Link test result { endpoint: '/', ok: true, status: 200 }
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[INFO] 2025-09-19T23:23:18.618Z Link test result { endpoint: '/leagues', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.621Z Link test result { endpoint: '/leagues/1', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.624Z Link test result { endpoint: '/leagues/1/games', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.627Z Link test result { endpoint: '/leagues/1/members', ok: true, status: 200 }
Community-Ligen synchronisiert.
[INFO] 2025-09-19T23:23:18.629Z Link test result { endpoint: '/leagues/1/standings', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.631Z Link test result { endpoint: '/sports', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.634Z Link test result { endpoint: '/sports/7/leagues', ok: true, status: 200 }
[INFO] 2025-09-19T23:23:18.638Z Link test result { endpoint: '/me', ok: false, status: 401 }
[INFO] 2025-09-19T23:23:18.642Z Link test result { endpoint: '/me/leagues', ok: false, status: 401 }
[INFO] 2025-09-19T23:23:18.645Z Link test result { endpoint: '/me/games', ok: false, status: 401 }
[INFO] 2025-09-19T23:23:18.647Z Automated link tests finished {
  summary: [
    { ep: '/', ok: true, status: 200 },
    { ep: '/leagues', ok: true, status: 200 },
    { ep: '/leagues/1', ok: true, status: 200 },
    { ep: '/leagues/1/games', ok: true, status: 200 },
    { ep: '/leagues/1/members', ok: true, status: 200 },
    { ep: '/leagues/1/standings', ok: true, status: 200 },
    { ep: '/sports', ok: true, status: 200 },
    { ep: '/sports/7/leagues', ok: true, status: 200 },
    { ep: '/me', ok: false, status: 401 },
    { ep: '/me/leagues', ok: false, status: 401 },
    { ep: '/me/games', ok: false, status: 401 }
  ]
}
[LINK-TEST] All tested endpoints responded OK (or expected non-OK like 401/404).
[Mailer] Verify OK in 412ms. Sende Acceptance-Mail ...
üìß Acceptance-Mail gesendet: <20189c7d-53cc-a488-3546-409c11192728@matchleague.org>
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
Mailer aktiviert, versende E-Mail an: lennart.allenstein+matchleaguetest31@gmail.com
üìß E-Mail gesendet: 1758325035687-74179b38b4d68@matchleague.org
E-Mail erfolgreich versendet an: lennart.allenstein+matchleaguetest31@gmail.com
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
[GET /leagues] source[0] dbFile=./sportplattform.db rows=35
[GET /leagues] source[1] dbFile=./sportplattform.db rows=35
[GET /leagues] returning merged rows=35 (sources=2)
